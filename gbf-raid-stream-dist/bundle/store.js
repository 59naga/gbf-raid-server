(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{12:function(t,e,i){"use strict";var n=i(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i(2)),s=n(i(1)),o=n(i(9)),u=n(i(260)),c=n(i(235)),r=n(i(176)),d=n(i(194)),f=n(i(216)),l=n(i(215));function p(t){return new c.default(function(e,i){t.emit("gbf-raid-server:cache",function(t,n){t?i(t):e(n)})})}e.default=function(){var t,e=new o.default.Store({state:{visibility:"visible",tabs:[[]],copied:[],options:{index:0,sound:!1},tweets:[],bosses:[],categories:[],indexes:{},initialized:!1,allowedAC:null},plugins:[(0,d.default)({paths:["tabs","copied","options"]})],mutations:{tweet:function(t,e){for(var i=!0,n=0;n<t.tweets.length;n++)t.tweets[n].id===e.id&&(t.tweets.splice(n,1),i=!1,n--);t.tweets.unshift(e),i&&t.tweets.pop()},tweets:function(t,e){t.tweets=e},bosses:function(t,e){t.bosses=e},indexes:function(t,e){t.indexes=e},initialize:function(t){t.initialized=!1},initialized:function(t){t.initialized=!0},visibility:function(t,e){t.visibility=e},reset:function(t){t.tabs[0].splice(0,t.tabs[0].length)},toggle:function(t,e){var i=t.tabs[0].indexOf(e);-1===i?t.tabs[0].push(e):t.tabs[0].splice(i,1)},copied:function(t,e){var i=e.id;t.copied.indexOf(i)>-1||(t.copied.unshift(i),t.copied.length>10&&t.copied.pop())},allowAC:function(t,e){t.allowedAC="granted"===e||"prompt"===e}},actions:{pause:function(){var e=(0,s.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(t&&t.on)){e.next=2;break}return e.abrupt("return");case 2:t.close();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),initialize:function(){var i=(0,s.default)(a.default.mark(function i(n){var s,o,c,d;return a.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(s=n.commit)("initialize"),(t=(0,u.default)("/")).on("gbf-raid-server:tweet",function(t){e.commit("tweet",t)}),i.next=6,p(t);case 6:return o=i.sent,i.next=9,(0,r.default)("https://unpkg.com/gbf-data/dist/raid.json").then(function(t){return t.data.map(function(t){return t.image.match(/pbs.twimg.com.+?.?jpg$/)&&(t.image+=":small"),t})});case 9:c=i.sent,d=c.reduce(function(t,e,i){return t[e.name]=i,t[e.name_en]=i,t},{}),s("tweets",o),s("bosses",c),s("indexes",d),s("initialized");case 15:case"end":return i.stop()}},i,this)}));return function(t){return i.apply(this,arguments)}}()}});navigator.permissions&&navigator.permissions.query({name:"clipboard-write"}).then(function(t){e.commit("allowAC",t.state),t.addEventListener("change",function(){e.commit("allowAC",t.state)})}),l.default.change(function(t,i){e.commit("visibility",i)});var i=function(){e.dispatch("initialize")};return i(),(0,f.default)()&&l.default.change(function(t,n){"visible"===n?i():e.dispatch("pause")}),e}},238:function(t,e){}}]);